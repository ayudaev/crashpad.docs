<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Crashpad: crashpad::CrashReportDatabase Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Crashpad
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecrashpad.html">crashpad</a></li><li class="navelem"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html">CrashReportDatabase</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcrashpad_1_1CrashReportDatabase-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">crashpad::CrashReportDatabase Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface for managing a collection of crash report files and metadata associated with the crash reports.  
 <a href="classcrashpad_1_1CrashReportDatabase.html#details">More...</a></p>

<p><code>#include &quot;client/crash_report_database.h&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A crash report that is in the process of being written.  <a href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A crash report record.  <a href="structcrashpad_1_1CrashReportDatabase_1_1Report.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0bbd146654537fa0cf1b576eb647bb00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> </td></tr>
<tr class="memdesc:a0bbd146654537fa0cf1b576eb647bb00"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result code for operations performed on a database.  <a href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">More...</a><br /></td></tr>
<tr class="separator:a0bbd146654537fa0cf1b576eb647bb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6af53890d1e551800330e6ad53be995b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a6af53890d1e551800330e6ad53be995b">PrepareNewCrashReport</a> (<a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> **report)=0</td></tr>
<tr class="memdesc:a6af53890d1e551800330e6ad53be995b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a record of a new crash report.  <a href="#a6af53890d1e551800330e6ad53be995b">More...</a><br /></td></tr>
<tr class="separator:a6af53890d1e551800330e6ad53be995b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77057d6b9f0b8d8fb88e7653456c0ff"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#ac77057d6b9f0b8d8fb88e7653456c0ff">FinishedWritingCrashReport</a> (<a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> *report, <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> *uuid)=0</td></tr>
<tr class="memdesc:ac77057d6b9f0b8d8fb88e7653456c0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the database that a crash report has been written.  <a href="#ac77057d6b9f0b8d8fb88e7653456c0ff">More...</a><br /></td></tr>
<tr class="separator:ac77057d6b9f0b8d8fb88e7653456c0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e8875bcd1a0888bda5b126eb2bec00"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a18e8875bcd1a0888bda5b126eb2bec00">ErrorWritingCrashReport</a> (<a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> *report)=0</td></tr>
<tr class="memdesc:a18e8875bcd1a0888bda5b126eb2bec00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs the database that an error occurred while attempting to write a crash report, and that any resources associated with it should be cleaned up.  <a href="#a18e8875bcd1a0888bda5b126eb2bec00">More...</a><br /></td></tr>
<tr class="separator:a18e8875bcd1a0888bda5b126eb2bec00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19191932252bc836a84cf432ea8f3b7e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a19191932252bc836a84cf432ea8f3b7e">LookUpCrashReport</a> (const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;uuid, <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> *report)=0</td></tr>
<tr class="memdesc:a19191932252bc836a84cf432ea8f3b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the crash report record for the unique identifier.  <a href="#a19191932252bc836a84cf432ea8f3b7e">More...</a><br /></td></tr>
<tr class="separator:a19191932252bc836a84cf432ea8f3b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508353ae8893bf48a5ffcc9c74b03223"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a508353ae8893bf48a5ffcc9c74b03223">GetPendingReports</a> (std::vector&lt; <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> &gt; *reports)=0</td></tr>
<tr class="memdesc:a508353ae8893bf48a5ffcc9c74b03223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of crash report records that have not been uploaded.  <a href="#a508353ae8893bf48a5ffcc9c74b03223">More...</a><br /></td></tr>
<tr class="separator:a508353ae8893bf48a5ffcc9c74b03223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aecde1673f34d7789c1b8562242223c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a3aecde1673f34d7789c1b8562242223c">GetCompletedReports</a> (std::vector&lt; <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> &gt; *reports)=0</td></tr>
<tr class="memdesc:a3aecde1673f34d7789c1b8562242223c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of crash report records that have been completed, either by being uploaded or by skipping upload.  <a href="#a3aecde1673f34d7789c1b8562242223c">More...</a><br /></td></tr>
<tr class="separator:a3aecde1673f34d7789c1b8562242223c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87ae2586364bc46def5335c07c8eb04"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#ab87ae2586364bc46def5335c07c8eb04">GetReportForUploading</a> (const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;uuid, const <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> **report)=0</td></tr>
<tr class="memdesc:ab87ae2586364bc46def5335c07c8eb04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a report object for uploading to a collection server.  <a href="#ab87ae2586364bc46def5335c07c8eb04">More...</a><br /></td></tr>
<tr class="separator:ab87ae2586364bc46def5335c07c8eb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9b19255aff2f995cc645e949331f7d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a5c9b19255aff2f995cc645e949331f7d">RecordUploadAttempt</a> (const <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> *report, bool successful, const std::string &amp;id)=0</td></tr>
<tr class="memdesc:a5c9b19255aff2f995cc645e949331f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts a crash report record’s metadata to account for an upload attempt.  <a href="#a5c9b19255aff2f995cc645e949331f7d">More...</a><br /></td></tr>
<tr class="separator:a5c9b19255aff2f995cc645e949331f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b366cf0cba68fb6f8bc99d3045c826"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a55b366cf0cba68fb6f8bc99d3045c826">SkipReportUpload</a> (const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;uuid)=0</td></tr>
<tr class="memdesc:a55b366cf0cba68fb6f8bc99d3045c826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a report from the pending state to the completed state, but without the report being uploaded.  <a href="#a55b366cf0cba68fb6f8bc99d3045c826">More...</a><br /></td></tr>
<tr class="separator:a55b366cf0cba68fb6f8bc99d3045c826"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a14b825d4fe73b7d3326ba2d3358cc268"><td class="memItemLeft" align="right" valign="top">static scoped_ptr&lt; <a class="el" href="classcrashpad_1_1CrashReportDatabase.html">CrashReportDatabase</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a14b825d4fe73b7d3326ba2d3358cc268">Initialize</a> (const base::FilePath &amp;path)</td></tr>
<tr class="memdesc:a14b825d4fe73b7d3326ba2d3358cc268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a database of crash reports.  <a href="#a14b825d4fe73b7d3326ba2d3358cc268">More...</a><br /></td></tr>
<tr class="separator:a14b825d4fe73b7d3326ba2d3358cc268"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An interface for managing a collection of crash report files and metadata associated with the crash reports. </p>
<p>All <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html" title="A crash report record. ">Report</a> objects that are returned by this class are logically const. They are snapshots of the database at the time the query was run, and the data returned is liable to change after the query is executed.</p>
<p>The lifecycle of a crash report has three stages:</p>
<ol type="1">
<li>New: A crash report is created with <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a6af53890d1e551800330e6ad53be995b" title="Creates a record of a new crash report. ">PrepareNewCrashReport()</a>, the the client then writes the report, and then calls <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#ac77057d6b9f0b8d8fb88e7653456c0ff" title="Informs the database that a crash report has been written. ">FinishedWritingCrashReport()</a> to make the report Pending.</li>
<li>Pending: The report has been written but has not been locally processed.</li>
<li>Completed: The report has been locally processed, either by uploading it to a collection server and calling <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a5c9b19255aff2f995cc645e949331f7d" title="Adjusts a crash report record’s metadata to account for an upload attempt. ">RecordUploadAttempt()</a>, or by calling <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a55b366cf0cba68fb6f8bc99d3045c826" title="Moves a report from the pending state to the completed state, but without the report being uploaded...">SkipReportUpload()</a>. </li>
</ol>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">crashpad::CrashReportDatabase::OperationStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The result code for operations performed on a database. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8"></a>kNoError&#160;</td><td class="fielddoc">
<p>No error occurred. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00ab005def710dfeef7c3f3fd6c7e615239"></a>kReportNotFound&#160;</td><td class="fielddoc">
<p>The report that was requested could not be located. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00ad40b3e9919ed7de952a4e30d5be5c59b"></a>kFileSystemError&#160;</td><td class="fielddoc">
<p>An error occured while performing a file operation on a crash report. </p>
<p>A database is responsible for managing both the metadata about a report and the actual crash report itself. This error is returned when an error occurred when managing the report file. Additional information will be logged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00a3b98980ca5f43ea58da77b58e718a9c5"></a>kDatabaseError&#160;</td><td class="fielddoc">
<p>An error occured while recording metadata for a crash report. </p>
<p>A database is responsible for managing both the metadata about a report and the actual crash report itself. This error is returned when an error occurred when managing the metadata about a crash report. Additional information will be logged. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bbd146654537fa0cf1b576eb647bb00a5144543522e789911f7c8e0e34807961"></a>kBusyError&#160;</td><td class="fielddoc">
<p>The operation could not be completed because a concurrent operation affecting the report is occurring. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a18e8875bcd1a0888bda5b126eb2bec00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::ErrorWritingCrashReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> *&#160;</td>
          <td class="paramname"><em>report</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the database that an error occurred while attempting to write a crash report, and that any resources associated with it should be cleaned up. </p>
<p>After calling this method, the database is permitted to remove the file at <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html#aef12e5af9f053a8f75bc3fc81c178189" title="The path to the crash report being written. ">NewReport::path</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>A handle obtained with <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a6af53890d1e551800330e6ad53be995b" title="Creates a record of a new crash report. ">PrepareNewCrashReport()</a>. The handle will be invalidated as part of this call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="ac77057d6b9f0b8d8fb88e7653456c0ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::FinishedWritingCrashReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcrashpad_1_1UUID.html">UUID</a> *&#160;</td>
          <td class="paramname"><em>uuid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Informs the database that a crash report has been written. </p>
<p>After calling this method, the database is permitted to move and rename the file at <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html#aef12e5af9f053a8f75bc3fc81c178189" title="The path to the crash report being written. ">NewReport::path</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>A handle obtained with <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a6af53890d1e551800330e6ad53be995b" title="Creates a record of a new crash report. ">PrepareNewCrashReport()</a>. The handle will be invalidated as part of this call. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">uuid</td><td>The <a class="el" href="structcrashpad_1_1UUID.html" title="A universally unique identifier (UUID). ">UUID</a> of this crash report.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a3aecde1673f34d7789c1b8562242223c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::GetCompletedReports </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> &gt; *&#160;</td>
          <td class="paramname"><em>reports</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of crash report records that have been completed, either by being uploaded or by skipping upload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">reports</td><td>A list of crash report record objects. This must be empty on entry. Only valid if this returns <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8" title="No error occurred. ">kNoError</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a508353ae8893bf48a5ffcc9c74b03223"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::GetPendingReports </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> &gt; *&#160;</td>
          <td class="paramname"><em>reports</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of crash report records that have not been uploaded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">reports</td><td>A list of crash report record objects. This must be empty on entry. Only valid if this returns <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8" title="No error occurred. ">kNoError</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="ab87ae2586364bc46def5335c07c8eb04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::GetReportForUploading </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> **&#160;</td>
          <td class="paramname"><em>report</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtains a report object for uploading to a collection server. </p>
<p>The file at <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html#a42cfce2b75dfee931b8d82968592d8a7">Report::file_path</a> should be uploaded by the caller, and then the returned <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html" title="A crash report record. ">Report</a> object must be disposed of via a call to <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a5c9b19255aff2f995cc645e949331f7d" title="Adjusts a crash report record’s metadata to account for an upload attempt. ">RecordUploadAttempt()</a>.</p>
<p>A subsequent call to this method with the same <em>uuid</em> is illegal until <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a5c9b19255aff2f995cc645e949331f7d" title="Adjusts a crash report record’s metadata to account for an upload attempt. ">RecordUploadAttempt()</a> has been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>The unique identifier for the crash report record. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">report</td><td>A crash report record for the report to be uploaded. The caller does not own this object. Only valid if this returns <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8" title="No error occurred. ">kNoError</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a14b825d4fe73b7d3326ba2d3358cc268"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scoped_ptr&lt; <a class="el" href="classcrashpad_1_1CrashReportDatabase.html">CrashReportDatabase</a> &gt; crashpad::CrashReportDatabase::Initialize </td>
          <td>(</td>
          <td class="paramtype">const base::FilePath &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a database of crash reports. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>A path to a writable directory, where the database can be created or opened.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A database object on success, <code>nullptr</code> on failure with an error logged. </dd></dl>

</div>
</div>
<a class="anchor" id="a19191932252bc836a84cf432ea8f3b7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::LookUpCrashReport </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;&#160;</td>
          <td class="paramname"><em>uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> *&#160;</td>
          <td class="paramname"><em>report</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the crash report record for the unique identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>The crash report record unique identifier. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">report</td><td>A crash report record. Only valid if this returns <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8" title="No error occurred. ">kNoError</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a6af53890d1e551800330e6ad53be995b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::PrepareNewCrashReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1NewReport.html">NewReport</a> **&#160;</td>
          <td class="paramname"><em>report</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a record of a new crash report. </p>
<p>Callers can then write the crash report using the file handle provided. The caller does not own this handle, and it must be explicitly closed with <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#ac77057d6b9f0b8d8fb88e7653456c0ff" title="Informs the database that a crash report has been written. ">FinishedWritingCrashReport()</a> or <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a18e8875bcd1a0888bda5b126eb2bec00" title="Informs the database that an error occurred while attempting to write a crash report, and that any resources associated with it should be cleaned up. ">ErrorWritingCrashReport()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">report</td><td>A file handle to which the crash report data should be written. Only valid if this returns <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00ad73503b93bff6f4ae156a65fcb5e71f8" title="No error occurred. ">kNoError</a>. The caller must not close this handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a5c9b19255aff2f995cc645e949331f7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::RecordUploadAttempt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html">Report</a> *&#160;</td>
          <td class="paramname"><em>report</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>successful</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjusts a crash report record’s metadata to account for an upload attempt. </p>
<p>After calling this method, the database is permitted to move and rename the file at <a class="el" href="structcrashpad_1_1CrashReportDatabase_1_1Report.html#a42cfce2b75dfee931b8d82968592d8a7">Report::file_path</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">report</td><td>The report object obtained from <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#ab87ae2586364bc46def5335c07c8eb04" title="Obtains a report object for uploading to a collection server. ">GetReportForUploading()</a>. This object is invalidated after this call. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">successful</td><td>Whether the upload attempt was successful. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The identifier assigned to this crash report by the collection server. Must be empty if <em>successful</em> is <code>false</code>; may be empty if it is <code>true</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<a class="anchor" id="a55b366cf0cba68fb6f8bc99d3045c826"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcrashpad_1_1CrashReportDatabase.html#a0bbd146654537fa0cf1b576eb647bb00">OperationStatus</a> crashpad::CrashReportDatabase::SkipReportUpload </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcrashpad_1_1UUID.html">UUID</a> &amp;&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a report from the pending state to the completed state, but without the report being uploaded. </p>
<p>This can be used if the user has disabled crash report collection, but crash generation is still enabled in the product.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uuid</td><td>The unique identifier for the crash report record.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status code. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>client/crash_report_database.h</li>
<li>client/crash_report_database_mac.mm</li>
<li>client/crash_report_database_win.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
