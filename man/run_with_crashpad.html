<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>run_with_crashpad</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="refentry" lang="en"><a></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>run_with_crashpad — Run a program with a Crashpad exception handler</p></div><div class="refsynopsisdiv"><a id="_synopsis"></a><h2>Synopsis</h2><div class="blockquote"><blockquote class="blockquote"><div class="literallayout"><p><span class="strong"><strong>run_with_crashpad</strong></span> [<span class="emphasis"><em>OPTION…</em></span>] <span class="emphasis"><em>COMMAND</em></span> [<span class="emphasis"><em>ARG…</em></span>]</p></div></blockquote></div></div><div class="refsect1"><a id="_description"></a><h2>Description</h2><p>Starts a Crashpad exception handler server such as crashpad_handler(8) and
becomes its client, setting an exception port referencing the handler. Then,
executes <span class="emphasis"><em>COMMAND</em></span> along with any arguments specified (<span class="emphasis"><em>ARG…</em></span>) with the new
exception port in effect.</p><p>The exception port is configured to receive exceptions of type <code class="literal">EXC_CRASH</code>,
<code class="literal">EXC_RESOURCE</code>, and <code class="literal">EXC_GUARD</code>. The exception behavior is configured as
<code class="literal">EXCEPTION_STATE_IDENTITY | MACH_EXCEPTION_CODES</code>. The thread state flavor is
set to <code class="literal">MACHINE_THREAD_STATE</code>.</p><p>Programs that use the Crashpad client library directly will not normally use
this tool. This tool exists to allow programs that are unaware of Crashpad to be
run with a Crashpad exception handler.</p></div><div class="refsect1"><a id="_options"></a><h2>Options</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>-h</strong></span>, <span class="strong"><strong>--handler</strong></span>=<span class="emphasis"><em>HANDLER</em></span>
</span></dt><dd>
Invoke <span class="emphasis"><em>HANDLER</em></span> as the Crashpad handler program instead of the default,
<span class="strong"><strong>crashpad_handler</strong></span>.
</dd><dt><span class="term">
<span class="strong"><strong>-a</strong></span>, <span class="strong"><strong>--handler-argument</strong></span>=<span class="emphasis"><em>ARGUMENT</em></span>
</span></dt><dd>
Invokes the Crashpad handler program with <span class="emphasis"><em>ARGUMENT</em></span> as one of its arguments.
This option may appear zero, one, or more times. Regardless of this option’s
presence, the handler will always be invoked with the necessary arguments to
perform a handshake.
</dd><dt><span class="term">
<span class="strong"><strong>--help</strong></span>
</span></dt><dd>
Display help and exit.
</dd><dt><span class="term">
<span class="strong"><strong>--version</strong></span>
</span></dt><dd>
Output version information and exit.
</dd></dl></div></div><div class="refsect1"><a id="_examples"></a><h2>Examples</h2><p>Starts a Crashpad exception handler server by its default name,
<span class="strong"><strong>crashpad_handler</strong></span>, and runs a program with this handler in effect.</p><pre class="screen">$ <span class="strong"><strong>run_with_crashpad crash</strong></span>
Illegal instruction: 4</pre><p>Starts a Crashpad exception handler server at a nonstandard path, and runs
exception_port_tool(1) to show the task-level exception ports.</p><pre class="screen">$ <span class="strong"><strong>run_with_crashpad --handler=/tmp/crashpad_handler exception_port_tool</strong></span>
task exception port 0, mask 0x1c00 (CRASH|RESOURCE|GUARD), port 0x30b, behavior
0x80000003 (STATE_IDENTITY|MACH), flavor 7 (THREAD)</pre></div><div class="refsect1"><a id="_exit_status"></a><h2>Exit Status</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong>0</strong></span>
</span></dt><dd>
Success.
</dd><dt><span class="term">
<span class="strong"><strong>125</strong></span>
</span></dt><dd>
Failure, with a message printed to the standard error stream.
</dd><dt><span class="term">
<span class="strong"><strong>126</strong></span>
</span></dt><dd>
The program specified by <span class="emphasis"><em>COMMAND</em></span> was found, but could not be invoked.
</dd><dt><span class="term">
<span class="strong"><strong>127</strong></span>
</span></dt><dd>
The program specified by <span class="emphasis"><em>COMMAND</em></span> could not be found.
</dd></dl></div></div><div class="refsect1"><a id="_see_also"></a><h2>See Also</h2><p>crashpad_handler(8),
exception_port_tool(1)</p></div><div class="refsect1"><a id="_resources"></a><h2>Resources</h2><p>Crashpad home page: <a class="ulink" href="https://crashpad.googlecode.com/" target="_top">https://crashpad.googlecode.com/</a>.</p><p>Report bugs at <a class="ulink" href="https://code.google.com/p/crashpad/issues/entry" target="_top">https://code.google.com/p/crashpad/issues/entry</a>.</p></div><div class="refsect1"><a id="_copyright"></a><h2>Copyright</h2><p>Copyright 2014
<a class="ulink" href="https://chromium.googlesource.com/crashpad/crashpad/+/master/AUTHORS" target="_top">The
Crashpad Authors</a>.</p></div><div class="refsect1"><a id="_license"></a><h2>License</h2><p>Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p><pre class="literallayout"><a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0" target="_top">http://www.apache.org/licenses/LICENSE-2.0</a></pre><p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p></div></div></body></html>
